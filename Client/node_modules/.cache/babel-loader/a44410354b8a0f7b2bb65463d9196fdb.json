{"ast":null,"code":"import { useSelector } from \"react-redux\";\n\nconst postFavMovies = (endpoint, data, method) => {\n  const {\n    userName,\n    favMovies\n  } = useSelector(state => state.favMovies);\n  console.log(userName, favMovies);\n  const baseUrl = 'http://localhost:8080';\n  const url = `${baseUrl}/${endpoint}`;\n  console.log(data);\n\n  if (method === 'POST') {\n    return fetch(url, {\n      method,\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n  }\n};\n\nconst addFavMovieToDb = async () => {\n  const {\n    userName,\n    favMovies\n  } = useSelector(state => state.favMovies);\n  console.log(userName, favMovies);\n  const baseUrl = 'http://localhost:8080';\n  const resp = await postFavMovies('api/addFavMovies', {\n    userName,\n    favMovies\n  }, 'POST');\n  const body = await resp.json();\n\n  if (body.ok) {\n    console.log(body.user, \"fav movies sucessfully uploaded to the db\");\n  } else {\n    console.log(\"fav movies UNsucessfully uploaded to the db\");\n  }\n};\n\nexport const addFavMovie = (id, img, title) => {\n  addFavMovieToDb();\n  return {\n    type: 'addFavMovie',\n    payload: {\n      id,\n      img,\n      title\n    }\n  };\n};\nexport const removeFavMovie = (id, img, title) => {\n  return {\n    type: 'removeFavMovie',\n    payload: {\n      id,\n      img,\n      title\n    }\n  };\n};","map":{"version":3,"sources":["/home/juan/js/Movie-App/Client/src/actions/favMovies.js"],"names":["useSelector","postFavMovies","endpoint","data","method","userName","favMovies","state","console","log","baseUrl","url","fetch","headers","body","JSON","stringify","addFavMovieToDb","resp","json","ok","user","addFavMovie","id","img","title","type","payload","removeFavMovie"],"mappings":"AACA,SAASA,WAAT,QAA4B,aAA5B;;AAIA,MAAMC,aAAa,GAAG,CAAEC,QAAF,EAAYC,IAAZ,EAAkBC,MAAlB,KAA8B;AAChD,QAAM;AAACC,IAAAA,QAAD;AAAWC,IAAAA;AAAX,MAAwBN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACD,SAAhB,CAAzC;AACJE,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAAsBC,SAAtB;AACA,QAAMI,OAAO,GAAG,uBAAhB;AACI,QAAMC,GAAG,GAAI,GAAGD,OAAS,IAAIR,QAAU,EAAvC;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;;AACA,MAAKC,MAAM,KAAK,MAAhB,EAAyB;AACrB,WAAOQ,KAAK,CAACD,GAAD,EAAK;AACbP,MAAAA,MADa;AAEbS,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFI;AAKbC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAgBb,IAAhB;AALO,KAAL,CAAZ;AAOH;AACJ,CAfD;;AAiBA,MAAMc,eAAe,GAAG,YAAW;AAC/B,QAAM;AAACZ,IAAAA,QAAD;AAAWC,IAAAA;AAAX,MAAwBN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACD,SAAhB,CAAzC;AACJE,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAAsBC,SAAtB;AACA,QAAMI,OAAO,GAAG,uBAAhB;AAEQ,QAAMQ,IAAI,GAAG,MAAMjB,aAAa,CAAE,kBAAF,EAAsB;AAAEI,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAtB,EAA+C,MAA/C,CAAhC;AAEA,QAAMQ,IAAI,GAAG,MAAMI,IAAI,CAACC,IAAL,EAAnB;;AACA,MAAIL,IAAI,CAACM,EAAT,EAAY;AACRZ,IAAAA,OAAO,CAACC,GAAR,CAAYK,IAAI,CAACO,IAAjB,EAAuB,2CAAvB;AAGH,GAJD,MAIO;AACHb,IAAAA,OAAO,CAACC,GAAR,CAAY,6CAAZ;AACH;AAER,CAhBD;;AAqBA,OAAO,MAAMa,WAAW,GAAG,CAAEC,EAAF,EAAMC,GAAN,EAAWC,KAAX,KAAsB;AAC7CR,EAAAA,eAAe;AAEf,SAAO;AAAES,IAAAA,IAAI,EAAE,aAAR;AAAwBC,IAAAA,OAAO,EAAE;AAAEJ,MAAAA,EAAF;AAAMC,MAAAA,GAAN;AAAWC,MAAAA;AAAX;AAAjC,GAAP;AACH,CAJM;AAMP,OAAO,MAAMG,cAAc,GAAG,CAAEL,EAAF,EAAMC,GAAN,EAAWC,KAAX,KAAsB;AAGhD,SAAO;AAAEC,IAAAA,IAAI,EAAE,gBAAR;AAA2BC,IAAAA,OAAO,EAAE;AAAEJ,MAAAA,EAAF;AAAMC,MAAAA,GAAN;AAAWC,MAAAA;AAAX;AAApC,GAAP;AACH,CAJM","sourcesContent":["\nimport { useSelector } from \"react-redux\";\n\n\n\nconst postFavMovies = ( endpoint, data, method ) => {\n    const {userName, favMovies} = useSelector(state => state.favMovies);\nconsole.log(userName, favMovies);\nconst baseUrl = 'http://localhost:8080';\n    const url = `${ baseUrl }/${ endpoint }`;\n    console.log(data);\n    if ( method === 'POST' ) {\n        return fetch(url,{\n            method,\n            headers: {\n                'Content-type': 'application/json'\n            },\n            body: JSON.stringify( data )\n        });\n    }\n}\n\nconst addFavMovieToDb = async() => {\n    const {userName, favMovies} = useSelector(state => state.favMovies);\nconsole.log(userName, favMovies);\nconst baseUrl = 'http://localhost:8080';\n        \n        const resp = await postFavMovies( 'api/addFavMovies', { userName, favMovies }, 'POST' );\n        \n        const body = await resp.json();\n        if (body.ok){\n            console.log(body.user, \"fav movies sucessfully uploaded to the db\");\n            \n            \n        } else {\n            console.log(\"fav movies UNsucessfully uploaded to the db\")\n        }\n    \n}\n\n\n\n\nexport const addFavMovie = ( id, img, title ) => {\n    addFavMovieToDb();\n     \n    return { type: 'addFavMovie' , payload: { id, img, title }};\n}\n\nexport const removeFavMovie = ( id, img, title ) => {\n    \n     \n    return { type: 'removeFavMovie' , payload: { id, img, title }};\n}\n\n"]},"metadata":{},"sourceType":"module"}