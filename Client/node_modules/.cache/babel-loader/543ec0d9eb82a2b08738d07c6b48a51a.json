{"ast":null,"code":"//const baseUrl = process.env.BACKEND_URL;\nconst baseUrl = 'http://localhost:5000';\n\nconst postNewUser = (endpoint, data, method) => {\n  const url = `${baseUrl}/${endpoint}`;\n  console.log(url);\n\n  if (method === 'POST') {\n    return fetch(url, {\n      method,\n      mode: 'cors',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n  }\n};\n\nexport const startRegister = (username, email, password) => {\n  return async dispatch => {\n    const resp = await postNewUser('auth', {\n      email,\n      password,\n      username\n    }, 'POST');\n    const body = await resp.json();\n    dispatch(login({\n      uid: body.uid,\n      name: body.name,\n      email: body.email,\n      password: body.password\n    }));\n  };\n};\n\nconst login = user => ({\n  type: \"login\",\n  payload: user\n});","map":{"version":3,"sources":["/home/juan/js/Movie-App/Client/src/actions/auth.js"],"names":["baseUrl","postNewUser","endpoint","data","method","url","console","log","fetch","mode","headers","body","JSON","stringify","startRegister","username","email","password","dispatch","resp","json","login","uid","name","user","type","payload"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAG,uBAAhB;;AACA,MAAMC,WAAW,GAAG,CAAEC,QAAF,EAAYC,IAAZ,EAAkBC,MAAlB,KAA8B;AAE9C,QAAMC,GAAG,GAAI,GAAGL,OAAS,IAAIE,QAAU,EAAvC;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,MAAKD,MAAM,KAAK,MAAhB,EAAyB;AACrB,WAAOI,KAAK,CAAEH,GAAF,EAAO;AACfD,MAAAA,MADe;AAEfK,MAAAA,IAAI,EAAE,MAFS;AAGfC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAHM;AAMfC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAgBV,IAAhB;AANS,KAAP,CAAZ;AAQH;AACJ,CAdD;;AAgBA,OAAO,MAAMW,aAAa,GAAG,CAAEC,QAAF,EAAYC,KAAZ,EAAmBC,QAAnB,KAAiC;AAC1D,SAAO,MAAOC,QAAP,IAAqB;AAExB,UAAMC,IAAI,GAAG,MAAMlB,WAAW,CAAE,MAAF,EAAU;AAAEe,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBF,MAAAA;AAAnB,KAAV,EAAyC,MAAzC,CAA9B;AACA,UAAMJ,IAAI,GAAG,MAAMQ,IAAI,CAACC,IAAL,EAAnB;AACAF,IAAAA,QAAQ,CAAEG,KAAK,CAAC;AACZC,MAAAA,GAAG,EAAEX,IAAI,CAACW,GADE;AAEZC,MAAAA,IAAI,EAAEZ,IAAI,CAACY,IAFC;AAGZP,MAAAA,KAAK,EAAEL,IAAI,CAACK,KAHA;AAIZC,MAAAA,QAAQ,EAAEN,IAAI,CAACM;AAJH,KAAD,CAAP,CAAR;AAMH,GAVD;AAWH,CAZM;;AAcP,MAAMI,KAAK,GAAKG,IAAF,KAAa;AACvBC,EAAAA,IAAI,EAAE,OADiB;AAEvBC,EAAAA,OAAO,EAAEF;AAFc,CAAb,CAAd","sourcesContent":["//const baseUrl = process.env.BACKEND_URL;\nconst baseUrl = 'http://localhost:5000';\nconst postNewUser = ( endpoint, data, method ) => {\n\n    const url = `${ baseUrl }/${ endpoint }`;\n    console.log(url);\n    if ( method === 'POST' ) {\n        return fetch( url, {\n            method,\n            mode: 'cors',\n            headers: {\n                'Content-type': 'application/json'\n            },\n            body: JSON.stringify( data )\n        } );\n    }\n}\n\nexport const startRegister = ( username, email, password ) => {\n    return async( dispatch ) => {\n\n        const resp = await postNewUser( 'auth', { email, password, username }, 'POST' );\n        const body = await resp.json();\n        dispatch( login({\n            uid: body.uid,\n            name: body.name,\n            email: body.email,\n            password: body.password\n        }));\n    }\n}\n\nconst login = ( user ) => ({\n    type: \"login\",\n    payload: user\n});"]},"metadata":{},"sourceType":"module"}